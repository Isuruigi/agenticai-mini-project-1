ded December 31, 2022, 2023 and 2024 are as 
follows (in millions): 
  Year Ended December 31, 
  2022  2023  2024 
Current       
Federal  $ 8   $ 1   $ 22  
State   15    16    42  
Foreign   237    170    205  
Total current tax expense   260    187    269  
Deferred       
Federal   (251)    11    (5,154)  
State   (92)    12    (857)  
Foreign   (98)    3    (16)  
Total deferred tax expense (benefit)   (441)    26    (6,027)  
Total provision for (benefit from) income taxes  $ (181)   $ 213   $ (5,758)  
The following is a reconciliation of the statutory federal income tax rate to our effective tax rate for the years ended December 31, 
2022, 2023 and 2024: 
  Year Ended December 31, 
  2022  2023  2024 
Federal statutory income tax rate   21.0 %   21.0 %   21.0 % 
State income tax expense (1)   0.8    1.2    (19.8)  
Foreign rate differential   2.0    (0.4)    (0.4)  
Non-deductible expenses   (0.7)    (0.2)    2.2  
Stock-based compensation   (1.4)    (1.9)    (5.2)  
Federal research and development credits   0.6    (7.2)    (5.1)  
Deferred tax on investments   (1.1)    (3.5)    â€”  
Entity restructuring (2)   (12.7)    0.6    (0.5)  
Change in unrecognized tax benefits   (8.9)    (6.8)    37.8  
Valuation allowance (3)   1.1    (2.8)    (164.3)  
US effects on foreign operations   0.6    4.1    (2.5)  
Withholding taxes   (0.3)    9.5    (0.1)  
Other interest   1.7    (4.1)    (2.8)  
Other, net   (0.8)    (0.3)    0.1  
Effective income tax rate   1.9 %   9.2 %